"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[674],{7674:(t,e,o)=>{o.r(e),o.d(e,{default:()=>n});const s={name:"sign_in",components:{telePhone:o(1218).Z},data:function(){return{form:{email:"",password:"",_token:this.token,remember:0,captcha:""},phoneForm:{phone:"",otp:""},otp_field:!1,loading:!1,optionTo:"phone",buttonText:"Sign In"}},mounted:function(){this.authUser&&this.$router.go(-1),1==this.settings.is_recaptcha_activated&&this.captcha(),this.loginOptions()},watch:{lang:function(){this.loginOptions()}},computed:{loginRedirect:function(){return this.$store.getters.getLoginRedirection}},methods:{login:function(t){var e=this,o=this.form,s=this.getUrl("login");if("direct_login"==t)this.form.captcha="1313132";else if(1==this.settings.is_recaptcha_activated&&"phone"==this.optionTo){var n=window.captcha;if(!n)return toastr.warning(this.lang.verify_google_recaptcha,this.lang.Warning+" !!");this.form.captcha=n}var i=axios.create({withCredentials:!0});this.$store.commit("getCountCompare",!0),"direct_login"!=t&&("phone"==this.optionTo?o=this.form:"email"!=this.optionTo||this.otp_field?this.otp_field&&(s=this.getUrl("submit-otp"),o=this.phoneForm):(s=this.getUrl("get-otp"),o=this.phoneForm)),this.loading=!0,i.post(s,o).then((function(o){if(e.loading=!1,o.data.error&&toastr.error(o.data.error,e.lang.Error+" !!"),o.data.success)if(window.captcha="",e.errors=[],"email"!=e.optionTo||e.otp_field||"direct_login"==t){if(e.loginRedirect)e.$router.push({name:e.loginRedirect});else{var s=o.data.user;"customer"==s.user_type?e.$router.push({name:"dashboard"}):"admin"==s.user_type||"staff"==s.user_type?(e.loading=!0,document.location.href=e.getUrl("admin/dashboard")):"seller"==s.user_type&&(e.loading=!0,document.location.href=e.getUrl("seller/dashboard"))}e.$store.dispatch("carts",o.data.carts),e.$store.dispatch("user",o.data.user),e.$store.dispatch("compareList",o.data.compare_list),e.$store.dispatch("wishlists",o.data.wishlists)}else e.otp_field=!0,e.buttonText=e.lang.sign_in})).catch((function(t){e.loading=!1,t.response&&422==t.response.status&&(e.errors=t.response.data.errors)}))},socialLogin:function(t){var e=this.getUrl("login/"+t);axios.get(e).then((function(t){window.location.href=t.data}))},loginOptions:function(t){this.errors=[],t?"phone"==t?(this.buttonText=this.lang.get_oTP,this.optionTo="email"):(this.buttonText=this.lang.sign_in,this.optionTo="phone"):this.addons.includes("otp_system")?(this.optionTo="email",this.buttonText=this.lang.get_oTP):(this.buttonText=this.lang.sign_in,this.optionTo="phone")},captcha:function(){var t=document.createElement("script");t.src="https://www.google.com/recaptcha/api.js",document.body.appendChild(t)},copyLoginInfo:function(t){this.form.email=t,this.form.password="123456",this.login("direct_login")},getNumber:function(t){this.phoneForm.phone=t}}};const n=(0,o(1900).Z)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"sg-page-content"},[o("section",{staticClass:"ragister-account text-center"},[o("div",{staticClass:"container"},[o("div",{staticClass:"account-content"},[o("div",{staticClass:"thumb"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.settings.login_banner,expression:"settings.login_banner"}],staticClass:"img-fluid",attrs:{alt:"login_banner"}})]),t._v(" "),o("div",{staticClass:"form-content"},[o("h1",[t._v(t._s(t.lang.sign_in))]),t._v(" "),o("p",[t._v(t._s(t.lang.sign_continue_shopping))]),t._v(" "),o("form",{staticClass:"ragister-form",attrs:{name:"ragister-form"},on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},["phone"==t.optionTo?o("div",{staticClass:"form-group"},[o("span",{staticClass:"mdi mdi-name mdi-email-outline"}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control mb-1",class:{error_border:t.errors.email},attrs:{type:"email",placeholder:t.lang.email},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]):t._e(),t._v(" "),t.errors.email?o("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.email[0]))]):t._e(),t._v(" "),"email"==t.optionTo?o("div",[o("telePhone",{on:{phone_no:t.getNumber}})],1):t._e(),t._v(" "),t.errors.phone?o("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.phone[0]))]):t._e(),t._v(" "),t.addons.includes("otp_system")&&!t.otp_field?o("div",{staticClass:"form-group text-end mb-3"},[o("a",{staticClass:"btn sign-in-option",attrs:{href:"javaScript:void(0)"},on:{click:function(e){return t.loginOptions(t.optionTo)}}},[t._v(t._s("email"==t.optionTo?t.lang.use_email_instead:t.lang.use_phone_instead))])]):t._e(),t._v(" "),t.otp_field?o("div",{staticClass:"form-group mt-4"},[o("span",{staticClass:"mdi mdi-name mdi-lock-outline"}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneForm.otp,expression:"phoneForm.otp"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.lang.enter_your_otp},domProps:{value:t.phoneForm.otp},on:{input:function(e){e.target.composing||t.$set(t.phoneForm,"otp",e.target.value)}}})]):t._e(),t._v(" "),"phone"==t.optionTo?o("div",{staticClass:"form-group",class:{"mt-4":!t.addons.includes("otp_system")}},[o("span",{staticClass:"mdi mdi-name mdi-lock-outline"}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",class:{error_border:t.errors.password},attrs:{type:"password",placeholder:t.lang.Password},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]):t._e(),t._v(" "),t.errors.password?o("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.password[0]))]):t._e(),t._v(" "),"phone"==t.optionTo?o("div",{staticClass:"middle-content d-flex"},[o("div",{staticClass:"form-group remember"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.form.remember,expression:"form.remember"}],attrs:{type:"checkbox",name:"remember",value:"1",id:"remember"},domProps:{checked:Array.isArray(t.form.remember)?t._i(t.form.remember,"1")>-1:t.form.remember},on:{change:function(e){var o=t.form.remember,s=e.target,n=!!s.checked;if(Array.isArray(o)){var i=t._i(o,"1");s.checked?i<0&&t.$set(t.form,"remember",o.concat(["1"])):i>-1&&t.$set(t.form,"remember",o.slice(0,i).concat(o.slice(i+1)))}else t.$set(t.form,"remember",n)}}}),t._v(" "),o("label",{attrs:{for:"remember"}},[t._v(t._s(t.lang.remember_me))])]),t._v(" "),o("router-link",{attrs:{to:{name:"reset.password"}}},[o("a",{attrs:{href:"javaScript:void(0)"}},[t._v(t._s(t.lang.forgot_your_password))])])],1):t._e(),t._v(" "),1==t.settings.is_recaptcha_activated?o("div",{staticClass:"g-recaptcha mb-2",class:"email"==t.optionTo?"d-none":"",attrs:{"data-callback":"myCallback","data-sitekey":t.settings.recaptcha_Site_key}}):t._e(),t._v(" "),t.loading?o("loading_button",{attrs:{class_name:"btn"}}):o("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v(t._s(t.buttonText))]),t._v(" "),t.settings.demo_mode&&!t.loading?o("div",{staticClass:"d-flex justify-content-between mb-3"},[o("button",{staticClass:"btn copy_btn",attrs:{type:"button",href:"javascript:void(0)"},on:{click:function(e){return t.copyLoginInfo("admin@spagreen.net")}}},[t._v("Admin")]),t._v(" "),1==t.settings.seller_system?o("button",{staticClass:"btn copy_btn",attrs:{type:"button",href:"javascript:void(0)"},on:{click:function(e){return t.copyLoginInfo("seller@spagreen.net")}}},[t._v("Seller")]):t._e(),t._v(" "),o("button",{staticClass:"btn copy_btn",attrs:{type:"button",href:"javascript:void(0)"},on:{click:function(e){return t.copyLoginInfo("customer@spagreen.net")}}},[t._v("Customer")]),t._v(" "),o("button",{staticClass:"btn copy_btn",attrs:{type:"button",href:"javascript:void(0)"},on:{click:function(e){return t.copyLoginInfo("staff@spagreen.net")}}},[t._v("Staff")])]):t._e(),t._v(" "),o("p",[t._v(t._s(t.lang.don_have_an_account)+"\n                            "),o("router-link",{attrs:{to:{name:"register"}}},[t._v(t._s(t.lang.sign_up))])],1),t._v(" "),1==t.settings.is_facebook_login_activated||1==t.settings.is_google_login_activated||1==t.settings.is_twitter_login_activated?o("div",{staticClass:"continue-with"},[o("p",[t._v(t._s(t.lang.or_continue_with))])]):t._e(),t._v(" "),o("ul",{staticClass:"global-list"},[1==t.settings.is_facebook_login_activated?o("li",[o("a",{staticClass:"facebook",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.socialLogin("facebook")}}},[o("span",{staticClass:"mdi mdi-name mdi-facebook"}),t._v(t._s(t.lang.facebook))])]):t._e(),t._v(" "),1==t.settings.is_twitter_login_activated?o("li",[o("a",{staticClass:"twitter",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.socialLogin("twitter")}}},[o("span",{staticClass:"mdi mdi-name mdi-twitter"}),t._v(t._s(t.lang.twitter))])]):t._e(),t._v(" "),1==t.settings.is_google_login_activated?o("li",[o("a",{staticClass:"google",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.socialLogin("google")}}},[o("span",{staticClass:"mdi mdi-name mdi-google"}),t._v(t._s(t.lang.google))])]):t._e()])],1)])])])])])}),[],!1,null,null,null).exports},1218:(t,e,o)=>{o.d(e,{Z:()=>n});const s={name:"telephone",data:function(){return{dropdown_active:!1,search_key:"",selected_country:"",defaultCountry:{flag:"",code:"",name:""},activeClass:"hideShow",phone_no:"",count:1,countries:[],filtered_countries:[]}},watch:{phone:function(){this.phone_no=this.phone}},mounted:function(){this.country()},computed:{phone:function(){return this.$store.getters.getMobileNo}},methods:{PlusCheck:function(t){return!!t&&t.phonecode.includes("+")},getCountryCode:function(t){this.activeClass="hideShow",this.phone_no="",this.count=1,this.defaultCountry.flag=t?t.flag_icon:this.getUrl("public/images/flags/bd.png");t?(t.phonecode.includes("+")?this.defaultCountry.code=t.phonecode:this.defaultCountry.code="+"+t.phonecode,this.defaultCountry.name=t.name):(this.defaultCountry.code="+880",this.defaultCountry.name="Bangladesh")},activeDropDown:function(){var t=this;"hideShow"==this.activeClass?this.activeClass="":this.activeClass="hideShow",this.$nextTick((function(){document.addEventListener("click",t.hideSearchDropdown)}))},hideSearchDropdown:function(){this.activeClass="hideShow",document.removeEventListener("click",this.hideSearchDropdown)},countrySearch:function(){var t,e=this;return t=this.countries.filter((function(t){return t.name})),this.filtered_countries=t.filter((function(t){return t.name&&t.name.toLowerCase().includes(e.search_key)})),this.filtered_countries},getNum:function(){(1==this.count||""==this.phone_no)&&(this.phone_no=this.defaultCountry.code+this.phone_no),this.$emit("phone_no",this.phone_no),this.count++},country:function(){var t=this,e=this.getUrl("get/country-list");if(JSON.parse(sessionStorage.getItem("countries"))){var o=JSON.parse(sessionStorage.getItem("countries"));this.countries=o,this.filtered_countries=o;var s=this.countries.find((function(e){return e.id==t.settings.default_country}));this.getCountryCode(s)}else axios.get(e).then((function(e){if(e.data.error)toastr.error(e.data.error,t.lang.Error+" !!");else{t.countries=e.data.countries,t.filtered_countries=e.data.countries;var o=t.countries.find((function(e){return e.id==t.settings.default_country}));t.getCountryCode(o),sessionStorage.setItem("countries",JSON.stringify(t.countries))}}))}}};const n=(0,o(1900).Z)(s,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("form",{staticClass:"yoori__signup--form",attrs:{action:"#"}},[o("div",{staticClass:"country__code--config",on:{click:function(e){return e.stopPropagation(),t.activeDropDown.apply(null,arguments)}}},[o("div",{staticClass:"country__code--config-details"},[o("span",{staticClass:"country__code--flag"},[o("img",{staticClass:"img-fluid",attrs:{src:t.defaultCountry.flag,alt:"Flag"}})]),t._v(" "),o("span",{staticClass:"country__code--number"},[t._v("\n                  "+t._s(t.defaultCountry.code)+"\n              ")]),t._v(" "),o("span",{staticClass:"country__dropdown"})]),t._v(" "),o("ul",{staticClass:"country__code--list",class:t.activeClass,on:{click:function(t){t.stopPropagation()}}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search_key,expression:"search_key"}],staticClass:"country__search",attrs:{placeholder:"Search",type:"text"},domProps:{value:t.search_key},on:{keyup:t.countrySearch,input:function(e){e.target.composing||(t.search_key=e.target.value)}}}),t._v(" "),t._l(t.filtered_countries,(function(e,s){return o("li",{on:{click:function(o){return t.getCountryCode(e)}}},[o("span",{staticClass:"country__code--flag"},[o("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.flag_icon,expression:"country.flag_icon"}],staticClass:"img-fluid",attrs:{alt:"Flag"}})]),t._v(" "),o("span",{staticClass:"country__name"},[o("strong",[t._v(t._s(e.name))])]),t._v(" "),o("span",{staticClass:"country__code--number"},[t._v("\n                        "+t._s(t.PlusCheck(e)?e.phonecode:"+"+e.phonecode)+"\n                      ")])])}))],2)]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_no,expression:"phone_no"}],staticClass:"number",attrs:{type:"tel"},domProps:{value:t.phone_no},on:{keyup:t.getNum,input:function(e){e.target.composing||(t.phone_no=e.target.value)}}})])}),[],!1,null,"14342ff9",null).exports}}]);