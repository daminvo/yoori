"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[673],{7673:(t,s,e)=>{e.r(s),e.d(s,{default:()=>n});var a=e(7982),i=e(1218),r=e(5463);const o={name:"checkout",components:{telePhone:i.Z,shimmer:a.Z,coupon:r.Z},data:function(){return{coupon_area:!0,countries:[],states:[],cities:[],coupon_list:[],checkout:{},form:{id:"",name:"",email:"",phone_no:"",address:"",country_id:"",state_id:"",city_id:"",postal_code:""},shipping_cost:0,address_area:!1,default_shipping:{},default_billing:{},same_address:!0,addresses:[],pick_hubs:[],pick_hub_id:"",checkout_method:2,loading:!1,save_loading:!1,agreement:null,address_area_title:"Add a new address",address_submit_button:"Add"}},mounted:function(){this.getAddress(),this.address_submit_button=this.lang.add},watch:{carts:function(t,s){this.getAddress()},lang:function(t,s){this.address_submit_button=this.lang.add}},computed:{carts:function(){return this.$store.getters.getCarts},shimmer:function(){return this.$store.state.module.shimmer}},methods:{getAddress:function(){var t=this,s=this.getUrl("user/address");this.$Progress.start(),axios.get(s).then((function(s){if(s.data.error)t.$Progress.fail(),toastr.error(s.data.error,t.lang.Error+" !!");else{t.$store.commit("setLoginRedirection","");var e=s.data.coupons;t.parseData(t.carts,s.data.checkouts,e),t.addresses=s.data.addresses,t.countries=s.data.countries,t.country_code=s.data.countries,t.checkout=s.data.checkout,t.pick_hubs=s.data.pickup_hubs;for(var a=0;a<t.addresses.length;a++)1==t.addresses[a].default_shipping&&(t.default_shipping=t.addresses[a]),1==t.addresses[a].default_billing&&(t.default_billing=t.addresses[a]);0===t.addresses.length&&(t.address_area=!0),t.$Progress.finish()}})).catch((function(s){t.$Progress.fail()}))},getStates:function(t){var s=this,e=this.form.country_id,a=this.getUrl("state/by-country/"+e);axios.get(a).then((function(e){e.data.error?toastr.error(e.data.error,s.lang.Error+" !!"):(s.states=e.data.states,t&&(s.form.state_id=t.address_ids.state_id,s.getCities(t)))}))},getCities:function(t){var s=this,e=this.form.state_id,a=this.getUrl("city/by-state/"+e);axios.get(a).then((function(e){e.data.error?toastr.error(e.data.error,s.lang.Error+" !!"):(s.cities=e.data.cities,t&&(s.form.city_id=t.address_ids.city_id))}))},saveAddress:function(){var t=this;this.save_loading=!0;var s=this.getUrl("store/user-address");axios.post(s,this.form).then((function(s){t.save_loading=!1,s.data.error?toastr.error(s.data.error,t.lang.Error+" !!"):(t.resetAddress(),t.getAddress(),t.address_area=!1,t.address_area_title="Add New Address",t.address_submit_button=t.lang.add,window.scrollTo(0,0))})).catch((function(s){t.save_loading=!1,422==s.response.status&&(t.errors=s.response.data.errors)}))},deleteAddress:function(t){var s=this,e=this.getUrl("delete/user-address/"+t);axios.get(e).then((function(t){t.data.error?toastr.error(t.data.error,s.lang.Error+" !!"):(s.getAddress(),s.resetAddress())}))},edit:function(t){this.address_area=!0,this.address_area_title="Update Address Info",this.address_submit_button="Update",this.form.id=t.id,this.form.name=t.name,this.form.email=t.email,this.form.phone_no=t.phone_no,this.form.address=t.address,this.form.country_id=t.address_ids.country_id,this.getStates(t),this.form.postal_code=t.postal_code,this.$store.commit("setMobileNo",this.form.phone_no);var s=this.$refs.update;s&&s.scrollIntoView({behavior:"smooth"})},confirmOrder:function(){var t=this;if(this.settings.privacy_agreement&&!this.agreement)return toastr.info(this.lang.accept_terms,this.lang.Error+" !!");if(this.payment_form.checkout_method=this.checkout_method,1==this.checkout_method){if(!this.pick_hub_id)return toastr.info(this.lang.please_choose_a_pickHub_point,this.lang.Error+" !!");this.payment_form.pick_hub_id=this.pick_hub_id}else{if(!this.default_shipping.id)return toastr.info(this.lang.please_choose_a_billing_address,this.lang.Error+" !!");this.payment_form.shipping_address=this.default_shipping,this.payment_form.billing_address=this.default_billing}var s=this.getUrl("user/confirm-order");this.$Progress.start(),this.loading=!0,axios.post(s,this.payment_form).then((function(s){t.loading=!1,s.data.error?(t.$Progress.fail(),toastr.error(s.data.error,t.lang.Error+" !!")):(t.$Progress.finish(),t.$router.push({name:"payment"}))})).catch((function(s){t.loading=!1}))},resetAddress:function(){this.form.id="",this.form.name="",this.form.email="",this.form.phone_no="",this.form.address="",this.form.country_id="",this.form.state_id="",this.form.city_id="",this.form.postal_code="",this.errors=[]},billingAddressSelect:function(){this.same_address?this.default_billing=this.default_shipping:this.default_billing={}},parseData:function(t,s,e){this.resetForm();for(var a=0;a<t.length;a++)this.payment_form.quantity.push({id:t[a].id,quantity:t[a].quantity}),this.payment_form.sub_total+=parseFloat(t[a].price*t[a].quantity),this.payment_form.discount_offer+=parseFloat(t[a].discount*t[a].quantity),"product_base"==this.settings.shipping_cost&&(this.payment_form.shipping_tax+=parseFloat(t[a].shipping_cost)),this.payment_form.tax+=parseFloat(t[a].tax*t[a].quantity);if(s)for(var i in s)this.payment_form.shipping_tax+=parseFloat(s[i].shipping_cost),this.payment_form.tax+=parseFloat(s[i].tax);if(e&&1==this.settings.coupon_system){this.coupon_list=e;for(var r=0;r<e.length;r++)this.payment_form.coupon_discount+=parseFloat(e[r].discount)}this.shipping_cost=this.payment_form.shipping_tax,this.payment_form.total=this.payment_form.sub_total+this.payment_form.tax+this.payment_form.shipping_tax-(this.payment_form.discount_offer+this.payment_form.coupon_discount),this.calculateShippingCost()},fetchShippingCost:function(){var t=this;if(this.default_billing=this.default_shipping,"area_base"==this.settings.shipping_fee_type){var s=this.getUrl("user/find/shipping_cost"),e={city_id:this.default_shipping.address_ids.city_id};axios.post(s,e).then((function(s){s.data.error?toastr.error(s.data.error,t.lang.Error+" !!"):(t.payment_form.shipping_tax=s.data.shipping_cost,t.shipping_cost=t.payment_form.shipping_tax,t.payment_form.total=t.payment_form.sub_total+t.payment_form.tax+t.payment_form.shipping_tax-(t.payment_form.discount_offer+t.payment_form.coupon_discount))}))}return!1},calculateShippingCost:function(){this.payment_form.shipping_tax=0,1==this.checkout_method?this.payment_form.shipping_tax=0:this.payment_form.shipping_tax=this.shipping_cost,this.payment_form.total=this.payment_form.sub_total+this.payment_form.tax+this.payment_form.shipping_tax-(this.payment_form.discount_offer+this.payment_form.coupon_discount)},getNumber:function(t){this.form.phone_no=t}}};const n=(0,e(1900).Z)(o,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"sg-page-content"},[e("div",{staticClass:"sg-breadcrumb"},[e("div",{staticClass:"container"},[e("ol",{staticClass:"breadcrumb justify-content-center"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"cart"}}},[t._v(t._s(t.lang.view_cart))])],1),t._v(" "),e("li",{staticClass:"breadcrumb-item"},[t._v(t._s(t.lang.check_out))]),t._v(" "),e("li",{staticClass:"breadcrumb-item"},[e("a",{attrs:{href:"javascript:void(0)"}},[t._v(t._s(t.lang.confirm_order))])])])])]),t._v(" "),e("section",{staticClass:"shopping-cart"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-8"},[e("div",{staticClass:"sg-shipping"},[e("div",{staticClass:"title"},[e("h1",[t._v(t._s(t.lang.choose_a_way_to_collect_order))])]),t._v(" "),t.pick_hubs.length>0?e("div",{staticClass:"left-content"},[e("form",{staticClass:"form-checkbox"},[e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkout_method,expression:"checkout_method"}],staticClass:"form-check-input",attrs:{type:"radio",id:"address",value:"2"},domProps:{checked:t._q(t.checkout_method,"2")},on:{change:[function(s){t.checkout_method="2"},t.calculateShippingCost]}}),t._v(" "),e("label",{attrs:{for:"address"}},[t._v(t._s(t.lang.use_shipping_billing_addresses))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkout_method,expression:"checkout_method"}],staticClass:"form-check-input",attrs:{type:"radio",id:"pickhub",value:"1"},domProps:{checked:t._q(t.checkout_method,"1")},on:{change:[function(s){t.checkout_method="1"},t.calculateShippingCost]}}),t._v(" "),e("label",{attrs:{for:"pickhub"}},[t._v(t._s(t.lang.use_pickHub_point))])])])]):t._e(),t._v(" "),t.pick_hubs.length>0&&1==t.checkout_method?e("div",{staticClass:"title mt-2"},[e("h1",[t._v(t._s(t.lang.pickHub_point))])]):t._e(),t._v(" "),1==t.checkout_method&&t.pick_hubs.length>0?e("div",{staticClass:"left-content"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.pick_hub_id,expression:"pick_hub_id"}],staticClass:"form-control",on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.pick_hub_id=s.target.multiple?e:e[0]},t.calculateShippingCost]}},[e("option",{attrs:{value:""}},[t._v(t._s(t.lang.select_pickHub_point))]),t._v(" "),t._l(t.pick_hubs,(function(s,a){return e("option",{key:a,domProps:{value:s.id}},[t._v(t._s(s.name)+"\n                                    => "+t._s(s.address)+"\n                                ")])}))],2)]):t._e(),t._v(" "),t.addresses.length>0&&2==t.checkout_method?e("div",{staticClass:"title mt-2"},[e("h1",[t._v(t._s(t.lang.shipping_address))])]):t._e(),t._v(" "),t.addresses&&2==t.checkout_method?e("div",{staticClass:"row text-capitalize"},[t._l(t.addresses,(function(s,a){return e("div",{key:a,staticClass:"col-lg-6"},[e("label",{staticClass:"address_selector",attrs:{id:"shipping_"+s.id}},[e("div",{staticClass:"sg-card address chekout",class:t.default_shipping.id==s.id?"selected":""},[e("div",{staticClass:"justify-content-between d-flex"},[e("div",{staticClass:"text d-flex"},[e("div",{staticClass:"float-left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.default_shipping,expression:"default_shipping"}],staticClass:"form-check-input",attrs:{type:"radio",name:"radioNoLabel",id:"shipping_"+s.id,"aria-label":"..."},domProps:{value:s,checked:t._q(t.default_shipping,s)},on:{change:[function(e){t.default_shipping=s},t.fetchShippingCost]}})]),t._v(" "),e("div",{staticClass:"address-right"},[e("ul",{staticClass:"global-list"},[e("li",[t._v(t._s(t.lang.name)+" : "+t._s(s.name))]),t._v(" "),e("li",[t._v(t._s(t.lang.email)+" : "+t._s(s.email))]),t._v(" "),e("li",[t._v(t._s(t.lang.phone)+" : "+t._s(s.phone_no))]),t._v(" "),e("li",[t._v(t._s(t.lang.street_address)+" : "+t._s(s.address))]),t._v(" "),e("li",[t._v(t._s(t.lang.country)+" : "+t._s(s.country))]),t._v(" "),e("li",[t._v(t._s(t.lang.state)+" : "+t._s(s.state))]),t._v(" "),e("li",[t._v(t._s(t.lang.city)+" : "+t._s(s.city))])])])]),t._v(" "),e("div",{staticClass:"dropdown"},[e("span",{staticClass:"mdi mdi-name mdi-dots-vertical dropbtn"}),t._v(" "),e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.edit(s)}}},[t._v(t._s(t.lang.edit))]),t._v(" "),s.default_shipping||s.default_billing?t._e():e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.deleteAddress(s.id)}}},[t._v(t._s(t.lang.delete))])])])])])])])})),t._v(" "),e("div",{staticClass:"col-lg-12"},[t.addresses.length>0?e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.same_address,expression:"same_address"}],staticClass:"form-check-input",attrs:{checked:"",id:"same_as",type:"checkbox"},domProps:{checked:Array.isArray(t.same_address)?t._i(t.same_address,null)>-1:t.same_address},on:{change:[function(s){var e=t.same_address,a=s.target,i=!!a.checked;if(Array.isArray(e)){var r=t._i(e,null);a.checked?r<0&&(t.same_address=e.concat([null])):r>-1&&(t.same_address=e.slice(0,r).concat(e.slice(r+1)))}else t.same_address=i},t.billingAddressSelect]}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"same_as"}},[t._v("\n                                        "+t._s(t.lang.address_is_shipping)+"\n                                    ")])]):t._e()])],2):t._e(),t._v(" "),t.addresses.length>0&&!t.same_address&&2==t.checkout_method?e("div",{staticClass:"title"},[e("h1",[t._v(t._s(t.lang.billing_address))])]):t._e(),t._v(" "),t.addresses&&!t.same_address&&2==t.checkout_method?e("div",{staticClass:"row text-capitalize"},t._l(t.addresses,(function(s,a){return e("div",{key:a,staticClass:"col-lg-6"},[e("label",{staticClass:"address_selector",attrs:{id:"billing_"+s.id}},[e("div",{staticClass:"sg-card address chekout",class:t.default_billing.id==s.id?"selected":""},[e("div",{staticClass:"justify-content-between d-flex"},[e("div",{staticClass:"text d-flex"},[e("div",{staticClass:"float-left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.default_billing,expression:"default_billing"}],staticClass:"form-check-input",attrs:{type:"radio",id:"billing_"+s.id,"aria-label":"..."},domProps:{checked:t.default_billing.id==s.id,value:s,checked:t._q(t.default_billing,s)},on:{change:function(e){t.default_billing=s}}})]),t._v(" "),e("div",{staticClass:"address-right"},[e("ul",{staticClass:"global-list"},[e("li",[t._v(t._s(t.lang.name)+" : "+t._s(s.name))]),t._v(" "),e("li",[t._v(t._s(t.lang.email)+" : "+t._s(s.email))]),t._v(" "),e("li",[t._v(t._s(t.lang.phone)+" : "+t._s(s.phone_no))]),t._v(" "),e("li",[t._v(t._s(t.lang.street_address)+" : "+t._s(s.address))]),t._v(" "),e("li",[t._v(t._s(t.lang.country)+" : "+t._s(s.country))]),t._v(" "),e("li",[t._v(t._s(t.lang.state)+" : "+t._s(s.state))]),t._v(" "),e("li",[t._v(t._s(t.lang.city)+" : "+t._s(s.city))])])])]),t._v(" "),e("div",{staticClass:"dropdown",staticStyle:{float:"right"}},[e("span",{staticClass:"mdi mdi-name mdi-dots-vertical dropbtn"}),t._v(" "),e("div",{staticClass:"dropdown-content"},[e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.edit(s)}}},[t._v(t._s(t.lang.edit))]),t._v(" "),s.default_shipping||s.default_billing?t._e():e("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.deleteAddress(s.id)}}},[t._v(t._s(t.lang.delete))])])])])])])])})),0):t._e(),t._v(" "),2==t.checkout_method?e("div",{ref:"update",staticClass:"accordion add-new"},[e("div",{staticClass:"accordion-item"},[e("div",{staticClass:"accordion-header"},[e("button",{staticClass:"accordion-button",class:{collapsed:!t.address_area},attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#shipping_accordion","aria-expanded":"false","aria-controls":"collapse1"},on:{click:function(s){t.address_area=!t.address_area}}},[t._v(t._s(t.lang.address_area_title)+"\n                                    ")])]),t._v(" "),e("div",{staticClass:"accordion-collapse collapse",class:{show:t.address_area},attrs:{id:"shipping_accordion","aria-labelledby":"address1","data-bs-parent":"#accordionExample"}},[e("div",{staticClass:"accordion-body sg-card"},[e("form",{on:{submit:function(s){return s.preventDefault(),t.saveAddress()}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.name))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control",class:{error_border:t.errors.name},attrs:{type:"text",placeholder:t.lang.name},domProps:{value:t.form.name},on:{input:function(s){s.target.composing||t.$set(t.form,"name",s.target.value)}}})]),t._v(" "),t.errors.name?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.name[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.email))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control",class:{error_border:t.errors.email},attrs:{type:"email",placeholder:t.lang.email},domProps:{value:t.form.email},on:{input:function(s){s.target.composing||t.$set(t.form,"email",s.target.value)}}})]),t._v(" "),t.errors.email?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.email[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("label",[t._v(t._s(t.lang.phone))]),t._v(" "),e("telePhone",{on:{phone_no:t.getNumber}}),t._v(" "),t.errors.phone_no?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.phone_no[0]))]):t._e()],1),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.country))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.country_id,expression:"form.country_id"}],staticClass:"form-control",class:{error_border:t.errors.country_id},on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"country_id",s.target.multiple?e:e[0])},function(s){return t.getStates()}]}},[e("option",{attrs:{value:""}},[t._v(t._s(t.lang.select_country))]),t._v(" "),t._l(t.countries,(function(s,a){return e("option",{key:"country"+a,domProps:{value:s.id}},[t._v("\n                                                                "+t._s(s.name)+"\n                                                            ")])}))],2)]),t._v(" "),t.errors.country_id?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.country_id[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.state))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.state_id,expression:"form.state_id"}],staticClass:"form-control",class:{error_border:t.errors.state_id},on:{change:[function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"state_id",s.target.multiple?e:e[0])},function(s){return t.getCities()}]}},[e("option",{attrs:{value:""}},[t._v(t._s(t.lang.select_state))]),t._v(" "),t._l(t.states,(function(s,a){return e("option",{key:"state"+a,domProps:{value:s.id}},[t._v("\n                                                                "+t._s(s.name)+"\n                                                            ")])}))],2)]),t._v(" "),t.errors.state_id?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.state_id[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.city))]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.city_id,expression:"form.city_id"}],staticClass:"form-control",class:{error_border:t.errors.city_id},on:{change:function(s){var e=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"city_id",s.target.multiple?e:e[0])}}},[e("option",{attrs:{value:""}},[t._v(t._s(t.lang.select_city))]),t._v(" "),t._l(t.cities,(function(s,a){return e("option",{key:"city"+a,domProps:{value:s.id}},[t._v("\n                                                                "+t._s(s.name)+"\n                                                            ")])}))],2)]),t._v(" "),t.errors.city_id?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.city_id[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.postal_code))]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.postal_code,expression:"form.postal_code"}],staticClass:"form-control",class:{error_border:t.errors.postal_code},attrs:{type:"text",placeholder:t.lang.postal_code},domProps:{value:t.form.postal_code},on:{input:function(s){s.target.composing||t.$set(t.form,"postal_code",s.target.value)}}})]),t._v(" "),t.errors.postal_code?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.postal_code[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.lang.address))]),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.address,expression:"form.address"}],staticClass:"form-control",class:{error_border:t.errors.address},attrs:{placeholder:t.lang.street_address},domProps:{value:t.form.address},on:{input:function(s){s.target.composing||t.$set(t.form,"address",s.target.value)}}})]),t._v(" "),t.errors.address?e("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.address[0]))]):t._e()]),t._v(" "),e("div",{staticClass:"col-md-12 text-end"},[t.save_loading?e("loading_button",{attrs:{class_name:"btn btn-primary"}}):e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("\n                                                        "+t._s(t.address_submit_button)+"\n                                                    ")])],1)])])])])])]):t._e()])]),t._v(" "),t.carts?e("div",{staticClass:"col-lg-4 pl-lg-5"},[e("div",{staticClass:"order-summary"},[e("h6",[t._v(t._s(t.lang.price_details))]),t._v(" "),t.authUser?e("coupon",{attrs:{coupon_list:t.coupon_list,cartList:t.carts}}):t._e(),t._v(" "),e("div",{staticClass:"sg-card"},[e("ul",{staticClass:"global-list"},[e("li",[t._v(t._s(t.lang.subtotal)+" "),e("span",[t._v(t._s(t.priceFormat(t.payment_form.sub_total)))])]),t._v(" "),e("li",[t._v(t._s(t.lang.tax)+" "),e("span",[t._v(t._s(t.priceFormat(t.payment_form.tax)))])]),t._v(" "),e("li",[t._v(t._s(t.lang.discount)),e("span",[t._v(t._s(t.priceFormat(t.payment_form.discount_offer)))])]),t._v(" "),e("li",[t._v(t._s(t.lang.shipping_cost)+"\n                                    "),e("span",[t._v(t._s(t.priceFormat(t.payment_form.shipping_tax)))])]),t._v(" "),1==t.settings.coupon_system?e("li",[t._v(t._s(t.lang.coupon_discount)),e("span",[t._v(t._s(t.priceFormat(t.payment_form.coupon_discount)))])]):t._e()]),t._v(" "),e("div",{staticClass:"order-total"},[e("p",[t._v(t._s(t.lang.total)+" "),e("span",[t._v(t._s(t.priceFormat(t.payment_form.total)))])])]),t._v(" "),e("div",{staticClass:"form-checkbox"},[t.settings.privacy_agreement?e("div",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.agreement,expression:"agreement"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"tnc",value:"2"},domProps:{checked:Array.isArray(t.agreement)?t._i(t.agreement,"2")>-1:t.agreement},on:{change:function(s){var e=t.agreement,a=s.target,i=!!a.checked;if(Array.isArray(e)){var r=t._i(e,"2");a.checked?r<0&&(t.agreement=e.concat(["2"])):r>-1&&(t.agreement=e.slice(0,r).concat(e.slice(r+1)))}else t.agreement=i}}}),t._v(" "),e("label",{attrs:{for:"tnc"}},[t._v(t._s(t.lang.agreement)+"\n                                        "),t.urlCheck(t.settings.privacy_agreement)?e("a",{attrs:{href:t.settings.privacy_agreement}},[t._v(t._s(t.lang.terms))]):e("router-link",{attrs:{to:"page/"+t.settings.privacy_agreement}},[t._v(t._s(t.lang.terms)+"\n                                        ")])],1)]):t._e()]),t._v(" "),t.loading?e("loading_button",{attrs:{class_name:"btn btn-primary"}}):e("a",{staticClass:"btn btn-primary",attrs:{href:"javascript:void(0)"},on:{click:t.confirmOrder}},[t._v(t._s(t.lang.proceed_to_payment))])],1)],1)]):t._e()])])])])}),[],!1,null,null,null).exports},5463:(t,s,e)=>{e.d(s,{Z:()=>r});const a={name:"coupon",props:["coupon_list","cartList"],data:function(){return{loading:!1}},methods:{applyCoupon:function(){var t=this,s=this.getUrl("user/apply_coupon");this.payment_form.trx_id=this.cartList[0].trx_id,this.loading=!0,axios.post(s,this.payment_form).then((function(s){if(t.loading=!1,s.data.error)toastr.error(s.data.error,t.lang.Error+" !!");else{toastr.success(s.data.success,t.lang.Success+" !!"),t.carts=[];var e=s.data.carts,a=s.data.checkouts,i=s.data.coupons;t.$parent.parseData(e,a,i),t.payment_form.coupon_code=""}})).catch((function(s){t.loading=!1,toastr.success("Something Went Wrong","Error !!")}))},removeCoupon:function(t){var s=this;if(confirm("Are You Sure ?")){var e=this.getUrl("user/coupon-delete");this.disabled=!0;var a={trx_id:this.cartList[0].trx_id,coupon_id:t,user_id:this.authUser.id};axios.post(e,a).then((function(t){if(s.disabled=!1,t.data.error)toastr.error(t.data.error,s.lang.Error+" !!");else{toastr.success(t.data.success,s.lang.Success+" !!"),s.carts=[];var e=t.data.carts,a=t.data.checkouts,i=t.data.coupons;s.$parent.parseData(e,a,i),s.payment_form.coupon_code=""}})).catch((function(t){s.disabled=!1,toastr.success("Something Went Wrong","Error !!")}))}}}};var i=(0,e(1900).Z)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"accordion",attrs:{id:"couponAccordion"}},[e("div",{staticClass:"accordion-item"},[e("div",{staticClass:"accordion-header",attrs:{id:"headingOne"}},[e("button",{staticClass:"accordion-button",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#couponCollapse","aria-expanded":"true","aria-controls":"collapseOne"}},[e("span",[e("img",{staticClass:"img-fluid",attrs:{src:t.getUrl("public/images/others/pencil1.png"),alt:"Image"}})]),t._v(t._s(t.lang.apply_coupon_code)+"\n      ")])]),t._v(" "),e("div",{staticClass:"accordion-collapse collapse",attrs:{id:"couponCollapse","aria-labelledby":"headingOne","data-bs-parent":"#couponAccordion"}},[e("div",{staticClass:"accordion-body"},[e("div",{staticClass:"coupon-code-list"},t._l(t.coupon_list,(function(s,a){return e("div",{key:a,staticClass:"coupon-code"},[e("h5",[t._v(t._s(s.title))]),t._v(" "),e("P",[t._v(t._s("flat"==s.discount_type?t.priceFormat(s.discount):s.coupon_discount+"% "+t.lang.off))]),t._v(" "),e("button",{staticClass:"btn-close",attrs:{type:"button","aria-label":"Close",disabled:t.disabled},on:{click:function(e){return t.removeCoupon(s.coupon_id)}}})],1)})),0),t._v(" "),e("form",{on:{submit:function(s){return s.preventDefault(),t.applyCoupon.apply(null,arguments)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.payment_form.coupon_code,expression:"payment_form.coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.lang.enter_coupon_code,required:""},domProps:{value:t.payment_form.coupon_code},on:{input:function(s){s.target.composing||t.$set(t.payment_form,"coupon_code",s.target.value)}}}),t._v(" "),t.loading?e("loading_button",{attrs:{class_name:"opacity_5"}}):e("button",[t._v(t._s(t.lang.apply))])],1)])])])])}),[],!1,null,"6ef17db5",null);const r=i.exports},7982:(t,s,e)=>{e.d(s,{Z:()=>i});const a={name:"shimmer.vue",props:["height"],data:function(){return{style:{height:this.height+"px"}}}};const i=(0,e(1900).Z)(a,(function(){var t=this,s=t.$createElement;return(t._self._c||s)("img",{staticClass:"shimmer",style:[t.height?t.style:null],attrs:{src:t.defaultAssets.shimmer,alt:"shimmer"}})}),[],!1,null,null,null).exports},1218:(t,s,e)=>{e.d(s,{Z:()=>i});const a={name:"telephone",data:function(){return{dropdown_active:!1,search_key:"",selected_country:"",defaultCountry:{flag:"",code:"",name:""},activeClass:"hideShow",phone_no:"",count:1,countries:[],filtered_countries:[]}},watch:{phone:function(){this.phone_no=this.phone}},mounted:function(){this.country()},computed:{phone:function(){return this.$store.getters.getMobileNo}},methods:{PlusCheck:function(t){return!!t&&t.phonecode.includes("+")},getCountryCode:function(t){this.activeClass="hideShow",this.phone_no="",this.count=1,this.defaultCountry.flag=t?t.flag_icon:this.getUrl("public/images/flags/bd.png");t?(t.phonecode.includes("+")?this.defaultCountry.code=t.phonecode:this.defaultCountry.code="+"+t.phonecode,this.defaultCountry.name=t.name):(this.defaultCountry.code="+880",this.defaultCountry.name="Bangladesh")},activeDropDown:function(){var t=this;"hideShow"==this.activeClass?this.activeClass="":this.activeClass="hideShow",this.$nextTick((function(){document.addEventListener("click",t.hideSearchDropdown)}))},hideSearchDropdown:function(){this.activeClass="hideShow",document.removeEventListener("click",this.hideSearchDropdown)},countrySearch:function(){var t,s=this;return t=this.countries.filter((function(t){return t.name})),this.filtered_countries=t.filter((function(t){return t.name&&t.name.toLowerCase().includes(s.search_key)})),this.filtered_countries},getNum:function(){(1==this.count||""==this.phone_no)&&(this.phone_no=this.defaultCountry.code+this.phone_no),this.$emit("phone_no",this.phone_no),this.count++},country:function(){var t=this,s=this.getUrl("get/country-list");if(JSON.parse(sessionStorage.getItem("countries"))){var e=JSON.parse(sessionStorage.getItem("countries"));this.countries=e,this.filtered_countries=e;var a=this.countries.find((function(s){return s.id==t.settings.default_country}));this.getCountryCode(a)}else axios.get(s).then((function(s){if(s.data.error)toastr.error(s.data.error,t.lang.Error+" !!");else{t.countries=s.data.countries,t.filtered_countries=s.data.countries;var e=t.countries.find((function(s){return s.id==t.settings.default_country}));t.getCountryCode(e),sessionStorage.setItem("countries",JSON.stringify(t.countries))}}))}}};const i=(0,e(1900).Z)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("form",{staticClass:"yoori__signup--form",attrs:{action:"#"}},[e("div",{staticClass:"country__code--config",on:{click:function(s){return s.stopPropagation(),t.activeDropDown.apply(null,arguments)}}},[e("div",{staticClass:"country__code--config-details"},[e("span",{staticClass:"country__code--flag"},[e("img",{staticClass:"img-fluid",attrs:{src:t.defaultCountry.flag,alt:"Flag"}})]),t._v(" "),e("span",{staticClass:"country__code--number"},[t._v("\n                  "+t._s(t.defaultCountry.code)+"\n              ")]),t._v(" "),e("span",{staticClass:"country__dropdown"})]),t._v(" "),e("ul",{staticClass:"country__code--list",class:t.activeClass,on:{click:function(t){t.stopPropagation()}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search_key,expression:"search_key"}],staticClass:"country__search",attrs:{placeholder:"Search",type:"text"},domProps:{value:t.search_key},on:{keyup:t.countrySearch,input:function(s){s.target.composing||(t.search_key=s.target.value)}}}),t._v(" "),t._l(t.filtered_countries,(function(s,a){return e("li",{on:{click:function(e){return t.getCountryCode(s)}}},[e("span",{staticClass:"country__code--flag"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.flag_icon,expression:"country.flag_icon"}],staticClass:"img-fluid",attrs:{alt:"Flag"}})]),t._v(" "),e("span",{staticClass:"country__name"},[e("strong",[t._v(t._s(s.name))])]),t._v(" "),e("span",{staticClass:"country__code--number"},[t._v("\n                        "+t._s(t.PlusCheck(s)?s.phonecode:"+"+s.phonecode)+"\n                      ")])])}))],2)]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_no,expression:"phone_no"}],staticClass:"number",attrs:{type:"tel"},domProps:{value:t.phone_no},on:{keyup:t.getNum,input:function(s){s.target.composing||(t.phone_no=s.target.value)}}})])}),[],!1,null,"14342ff9",null).exports}}]);