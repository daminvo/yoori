"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[353],{5353:(t,e,s)=>{s.r(e),s.d(e,{default:()=>n});const o={name:"register",components:{telePhone:s(1218).Z},data:function(){return{form:{first_name:"",last_name:"",email:"",password:"",phone:"",address:"",phone_no:"",otp:"",user_type:this.$route.params.type},optionTo:"phone",loading:!1,buttonText:"Get OTP",phone_no:"",minute:1,second:60,otp:"",agreement:"",country_code:[]}},watch:{$route:function(t,e){this.form.user_type=t.params.type}},mounted:function(){this.loginOptions()},methods:{countDownTimer:function(){var t=this;this.minute=1,this.second=60,setInterval((function(){t.second--,0==t.second&&(t.minute--,t.second=60,0==t.minute&&(t.minute=0))}),1e3)},register:function(){var t=this;if(this.settings.customer_agreement&&!this.agreement)return toastr.info(this.lang.accept_terms,this.lang.Error+" !!");this.loading=!0;var e=this.getUrl("register");this.form.real_otp=this.otp,this.form.real_otp!=this.otp&&toastr.error(this.lang.OTP_doesnt_match,this.lang.Error+" !!"),axios.post(e,this.form).then((function(e){t.loading=!1,e.data.error&&(t.$Progress.fail(),toastr.error(e.data.error,t.lang.Error+" !!")),e.data.success&&(1==e.data.type?(t.$store.dispatch("user",e.data.auth_user),t.$router.push({name:"dashboard"})):t.$router.push({name:"login"}),t.errors=[],toastr.success(e.data.success,t.lang.Success+" !!"))})).catch((function(e){t.loading=!1,t.$Progress.fail(),e.response&&422==e.response.status&&(t.errors=e.response.data.errors)}))},socialLogin:function(t){var e=this.getUrl("login/"+t);axios.get(e).then((function(t){window.location.href=t.data}))},loginOptions:function(t){t?"phone"==t?(this.buttonText="Get OTP",this.optionTo="email"):(this.buttonText="Sign Up",this.optionTo="phone"):this.addons.includes("otp_system")?(this.optionTo="email",this.buttonText="Get OTP"):(this.buttonText="Sign Up",this.optionTo="phone")},registerByPhone:function(){var t=this;if(this.form.email=null,this.settings.customer_agreement&&!this.agreement)return toastr.info(this.lang.accept_terms,this.lang.Error+" !!");var e=this.getUrl("register/by-phone");this.loading=!0,axios.post(e,this.form).then((function(e){t.loading=!1,e.data.error?toastr.error(e.data.error,t.lang.Error+" !!"):(toastr.success(e.data.data,t.lang.Success+" !!"),t.errors=[],t.otp=!0,t.countDownTimer())})).catch((function(e){t.loading=!1,t.$Progress.fail(),e.response&&422==e.response.status&&(t.errors=e.response.data.errors)}))},getNumber:function(t){this.form.phone=t}},computed:{}};const n=(0,s(1900).Z)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sg-page-content"},[s("section",{staticClass:"ragister-account text-center"},[s("div",{staticClass:"container"},[s("div",{staticClass:"account-content"},[s("div",{staticClass:"thumb"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.settings.sign_up_banner,expression:"settings.sign_up_banner"}],staticClass:"img-fluid img-fit",attrs:{alt:t.form.user_type}})]),t._v(" "),s("div",{staticClass:"form-content"},[s("h1",[t._v(t._s(t.lang.sign_up)+" ")]),t._v(" "),t.otp?s("p",[t._v(t._s(t.lang.enter_to_complete_registration))]):s("p",[t._v(t._s(t.lang.sign_to_continue_shopping))]),t._v(" "),"seller"==t.form.user_type?s("h5",{staticClass:"registration_heading"},[t._v(t._s(t.lang.personal_info))]):t._e(),t._v(" "),s("form",{staticClass:"ragister-form",attrs:{name:"ragister-form"},on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[s("div",[s("div",{staticClass:"form-group"},[s("span",{staticClass:"mdi mdi-name mdi-account-outline"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.first_name,expression:"form.first_name"}],staticClass:"form-control",class:{error_border:t.errors.first_name},attrs:{type:"text",placeholder:t.lang.first_name},domProps:{value:t.form.first_name},on:{input:function(e){e.target.composing||t.$set(t.form,"first_name",e.target.value)}}})]),t._v(" "),t.errors.first_name?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.first_name[0]))]):t._e(),t._v(" "),s("div",{staticClass:"form-group"},[s("span",{staticClass:"mdi mdi-name mdi-account-outline"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.last_name,expression:"form.last_name"}],staticClass:"form-control",class:{error_border:t.errors.last_name},attrs:{type:"text",placeholder:t.lang.last_name},domProps:{value:t.form.last_name},on:{input:function(e){e.target.composing||t.$set(t.form,"last_name",e.target.value)}}})]),t._v(" "),t.errors.last_name?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.last_name[0]))]):t._e(),t._v(" "),"phone"==t.optionTo?s("div",{staticClass:"form-group"},[s("span",{staticClass:"mdi mdi-name mdi-email-outline"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control mb-0",class:{"error_border mb-0":t.errors.email},attrs:{type:"email",placeholder:t.lang.email},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]):t._e(),t._v(" "),t.errors.email&&"phone"==t.optionTo?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.email[0]))]):t._e(),t._v(" "),"email"==t.optionTo&&t.addons.includes("otp_system")?s("div",[s("telePhone",{on:{phone_no:t.getNumber}}),t._v(" "),t.errors.phone?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.phone[0]))]):t._e()],1):t._e(),t._v(" "),t.addons.includes("otp_system")?s("div",{staticClass:"form-group text-end mb-3"},[t.otp?t._e():s("a",{staticClass:"btn sign-in-option",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.loginOptions(t.optionTo)}}},[t._v(t._s("email"==t.optionTo?t.lang.use_email_instead:t.lang.use_phone_instead))])]):t._e(),t._v(" "),"phone"==t.optionTo?s("div",{staticClass:"form-group",class:{"mt-4":!t.addons.includes("otp_system")}},[s("span",{staticClass:"mdi mdi-name mdi-lock-outline"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",class:{error_border:t.errors.password},attrs:{type:"password",placeholder:t.lang.Password},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]):t._e(),t._v(" "),t.errors.password&&"phone"==t.optionTo?s("span",{staticClass:"validation_error"},[t._v(t._s(t.errors.password[0]))]):t._e()]),t._v(" "),t.addons.includes("otp_system")&&t.otp?s("div",{staticClass:"form-group mt-4"},[s("span",{staticClass:"mdi mdi-name mdi-lock-outline"}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.otp,expression:"form.otp"}],staticClass:"form-control otp mb-0",class:{error_border:t.errors.otp},attrs:{type:"text",placeholder:t.lang.enter_oTP},domProps:{value:t.form.otp},on:{input:function(e){e.target.composing||t.$set(t.form,"otp",e.target.value)}}})]):t._e(),t._v(" "),t.addons.includes("otp_system")&&t.otp?s("div",[s("p",{staticClass:"count_down_timer"},[t.otp&&t.minute>=0&&t.second>=0?s("span",[t._v("0"+t._s(t.minute)+":"+t._s(t.second))]):s("span",{on:{click:t.registerByPhone}},[t._v(t._s(t.lang.otp_request))])]),t._v(" "),t.otp&&!t.loading?s("button",{staticClass:"btn",class:{disable_btn:5!=t.form.otp.length},attrs:{type:"submit"}},[t._v(t._s(t.lang.sign_up)+"\n                                ")]):t._e()]):t._e(),t._v(" "),s("div",{staticClass:"form-checkbox"},[t.settings.customer_agreement?s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.agreement,expression:"agreement"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"tnc",value:"2"},domProps:{checked:Array.isArray(t.agreement)?t._i(t.agreement,"2")>-1:t.agreement},on:{change:function(e){var s=t.agreement,o=e.target,n=!!o.checked;if(Array.isArray(s)){var a=t._i(s,"2");o.checked?a<0&&(t.agreement=s.concat(["2"])):a>-1&&(t.agreement=s.slice(0,a).concat(s.slice(a+1)))}else t.agreement=n}}}),t._v(" "),s("label",{attrs:{for:"tnc"}},[t._v(t._s(t.lang.agreement)+"\n                                        "),t.urlCheck(t.settings.customer_agreement)?s("a",{attrs:{href:t.settings.customer_agreement}},[t._v(t._s(t.lang.terms))]):s("router-link",{attrs:{to:"page/"+t.settings.customer_agreement}},[t._v(t._s(t.lang.terms)+"\n                                        ")])],1)]):t._e()]),t._v(" "),"phone"!=t.optionTo||t.loading?t._e():s("button",{staticClass:"btn",attrs:{type:"submit"}},[t._v("\n                                "+t._s(t.lang.sign_up)+"\n                            ")]),t._v(" "),t.loading?s("loading_button",{attrs:{class_name:"btn"}}):"email"!=t.optionTo||t.otp?t._e():s("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.registerByPhone}},[t._v(t._s(t.lang.get_oTP)+"\n                            ")]),t._v(" "),s("p",[t._v(t._s(t.lang.have_an_account)+"\n                                "),s("router-link",{attrs:{to:{name:"login"}}},[t._v(t._s(t.lang.sign_in))])],1),t._v(" "),1==t.settings.is_facebook_login_activated||1==t.settings.is_google_login_activated||1==t.settings.is_twitter_login_activated?s("div",{staticClass:"continue-with"},[s("p",[t._v(t._s(t.lang.or_continue_with))])]):t._e(),t._v(" "),"seller"!=t.form.user_type?s("ul",{staticClass:"global-list"},[1==t.settings.is_facebook_login_activated?s("li",[s("a",{staticClass:"facebook",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.socialLogin("facebook")}}},[s("span",{staticClass:"mdi mdi-name mdi-facebook"}),t._v(t._s(t.lang.facebook))])]):t._e(),t._v(" "),1==t.settings.is_twitter_login_activated?s("li",[s("a",{staticClass:"twitter",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.socialLogin("twitter")}}},[s("span",{staticClass:"mdi mdi-name mdi-twitter"}),t._v(t._s(t.lang.twitter))])]):t._e(),t._v(" "),1==t.settings.is_google_login_activated?s("li",[s("a",{staticClass:"google",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.socialLogin("google")}}},[s("span",{staticClass:"mdi mdi-name mdi-google"}),t._v(t._s(t.lang.google))])]):t._e()]):t._e()],1)])])])])])}),[],!1,null,null,null).exports},1218:(t,e,s)=>{s.d(e,{Z:()=>n});const o={name:"telephone",data:function(){return{dropdown_active:!1,search_key:"",selected_country:"",defaultCountry:{flag:"",code:"",name:""},activeClass:"hideShow",phone_no:"",count:1,countries:[],filtered_countries:[]}},watch:{phone:function(){this.phone_no=this.phone}},mounted:function(){this.country()},computed:{phone:function(){return this.$store.getters.getMobileNo}},methods:{PlusCheck:function(t){return!!t&&t.phonecode.includes("+")},getCountryCode:function(t){this.activeClass="hideShow",this.phone_no="",this.count=1,this.defaultCountry.flag=t?t.flag_icon:this.getUrl("public/images/flags/bd.png");t?(t.phonecode.includes("+")?this.defaultCountry.code=t.phonecode:this.defaultCountry.code="+"+t.phonecode,this.defaultCountry.name=t.name):(this.defaultCountry.code="+880",this.defaultCountry.name="Bangladesh")},activeDropDown:function(){var t=this;"hideShow"==this.activeClass?this.activeClass="":this.activeClass="hideShow",this.$nextTick((function(){document.addEventListener("click",t.hideSearchDropdown)}))},hideSearchDropdown:function(){this.activeClass="hideShow",document.removeEventListener("click",this.hideSearchDropdown)},countrySearch:function(){var t,e=this;return t=this.countries.filter((function(t){return t.name})),this.filtered_countries=t.filter((function(t){return t.name&&t.name.toLowerCase().includes(e.search_key)})),this.filtered_countries},getNum:function(){(1==this.count||""==this.phone_no)&&(this.phone_no=this.defaultCountry.code+this.phone_no),this.$emit("phone_no",this.phone_no),this.count++},country:function(){var t=this,e=this.getUrl("get/country-list");if(JSON.parse(sessionStorage.getItem("countries"))){var s=JSON.parse(sessionStorage.getItem("countries"));this.countries=s,this.filtered_countries=s;var o=this.countries.find((function(e){return e.id==t.settings.default_country}));this.getCountryCode(o)}else axios.get(e).then((function(e){if(e.data.error)toastr.error(e.data.error,t.lang.Error+" !!");else{t.countries=e.data.countries,t.filtered_countries=e.data.countries;var s=t.countries.find((function(e){return e.id==t.settings.default_country}));t.getCountryCode(s),sessionStorage.setItem("countries",JSON.stringify(t.countries))}}))}}};const n=(0,s(1900).Z)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"yoori__signup--form",attrs:{action:"#"}},[s("div",{staticClass:"country__code--config",on:{click:function(e){return e.stopPropagation(),t.activeDropDown.apply(null,arguments)}}},[s("div",{staticClass:"country__code--config-details"},[s("span",{staticClass:"country__code--flag"},[s("img",{staticClass:"img-fluid",attrs:{src:t.defaultCountry.flag,alt:"Flag"}})]),t._v(" "),s("span",{staticClass:"country__code--number"},[t._v("\n                  "+t._s(t.defaultCountry.code)+"\n              ")]),t._v(" "),s("span",{staticClass:"country__dropdown"})]),t._v(" "),s("ul",{staticClass:"country__code--list",class:t.activeClass,on:{click:function(t){t.stopPropagation()}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search_key,expression:"search_key"}],staticClass:"country__search",attrs:{placeholder:"Search",type:"text"},domProps:{value:t.search_key},on:{keyup:t.countrySearch,input:function(e){e.target.composing||(t.search_key=e.target.value)}}}),t._v(" "),t._l(t.filtered_countries,(function(e,o){return s("li",{on:{click:function(s){return t.getCountryCode(e)}}},[s("span",{staticClass:"country__code--flag"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.flag_icon,expression:"country.flag_icon"}],staticClass:"img-fluid",attrs:{alt:"Flag"}})]),t._v(" "),s("span",{staticClass:"country__name"},[s("strong",[t._v(t._s(e.name))])]),t._v(" "),s("span",{staticClass:"country__code--number"},[t._v("\n                        "+t._s(t.PlusCheck(e)?e.phonecode:"+"+e.phonecode)+"\n                      ")])])}))],2)]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone_no,expression:"phone_no"}],staticClass:"number",attrs:{type:"tel"},domProps:{value:t.phone_no},on:{keyup:t.getNum,input:function(e){e.target.composing||(t.phone_no=e.target.value)}}})])}),[],!1,null,"14342ff9",null).exports}}]);